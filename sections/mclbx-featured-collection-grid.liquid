{% comment %}{% endcomment %}
{{ 'component-card.css' | asset_url | stylesheet_tag }}
{% liquid
  assign id = section.id
%}
{% if section.settings.content_layout == 'no_image' %}
  {% assign slideCount = 4 %}
{% else %}
  {% assign slideCount = 2.4 %}
{% endif %}
<style>
      #shopify-section-{{id}} {
        box-sizing: border-box;
        margin-top: {{section.settings.margin_top | append: 'px'}};
        margin-bottom: {{section.settings.margin_bottom | append: 'px'}};
        padding-top: {{section.settings.padding_top | append: 'px'}};
        padding-bottom: {{section.settings.padding_bottom | append: 'px'}};
      }

      @media(max-width: 768px) {
        #shopify-section-{{id}} {
          margin-top: {{section.settings.margin_top_m | append: 'px'}};
          margin-bottom: {{section.settings.margin_bottom_m | append: 'px'}};
          padding-top: {{section.settings.padding_top_m | append: 'px'}};
          padding-bottom: {{section.settings.padding_bottom_m | append: 'px'}};
        }
      }

    .wrapper-{{ id }}{
    .--top-block {
        display: grid;
        grid-template-columns: repeat(2, minmax(0,1fr));
        gap: var(--Spacing-Container-xxs);
        align-items: end;
        /* margin-bottom: var(--Spacing-Container-md); */
      
        @media(max-width: 600px){
          text-align: center;
          grid-template-columns: minmax(0,1fr);
          gap: var(--Spacing-Container-xs);
        }
    }
    .--top-block .--button-wrapper {
       @media(max-width: 600px){
         display: none;
       }
          
      }
    .bottom-block .--button-wrapper {
        display: none;
       @media(max-width: 600px){
         display: block;
       }
          
      }
      h2.--section-title {
          color: var(--Content-Base-main, #1F2937);
          /* font-family: var(--font-family-Title); */
          /* font-size: var(--Font-Size-Heading-H2, 40px); */
          font-weight: 500;
          /* line-height: var(--Line-Height-Heading-H2, 40px); */
          letter-spacing: -0.4px;
          margin-block: 0;
          /* margin-block: 0 var(--Spacing-Container-xxs); */
            {% if  section.settings.subtitle == blank %}
               /* margin-block: 0 var(--Spacing-Container-md); */
            {% endif %}
      }
    .--section-subtitle {
        color: var(--Content-Base-main, #1F2937);
        /* font-family: var(--font-family-Body, "Neue Plak"); */
        font-size: var(--Font-Size-Paragraph-Regular);
        line-height: var(--Line-Height-Paragraph-Regular);
        margin-block: var(--Spacing-Container-xxs) 0;
       /* margin-bottom: var(--Spacing-Container-sm); */

    }




    .--button-wrapper {
        
    }
    a.--button {
       display: block;
      text-transform: capitalize;
      color: var(--Content-Base-main, #1F2937);
      text-align: right;
      font-family: var(--font-family-Body, "Aktiv Grotesk");
      font-size: var(--Font-Size-UI-Controls-Control-Button-Small, 16px);
      font-style: normal;
      font-weight: 400;
      line-height: var(--Line-Height-UI-Controls-Control-Button-Small, 16px);
      text-decoration-line: underline;
      @media(max-width: 600px){
         text-align: center;
       }
    }




    }


.--collection-products-grid {
    display: grid;
    grid-template-columns: repeat(4,minmax(0,1fr));
    gap: var(--Spacing-Container-sm, 16px);
    margin-block: var(--Spacing-Container-md, 24px) 0;
    @media(max-width:768px){
      grid-template-columns: repeat(2,minmax(0,1fr));
      margin-block: var(--Spacing-Container-md, 24px);
    }
}






  @media(min-width:601px){
   

 
  }
</style>

<div id="{{ section.settings.id_nav | downcase }}" class="sec-{{ id }}">
  <div class="container-{{ section.id }} {{ section.settings.content_layout }}  {% unless section.settings.full_width %}page-width{% endunless %}">

    <div class="wrapper-{{ id }}">
      <div class="--top-block">
        <div class="--text-content">
          <h2 class="--section-title">{{ section.settings.title }}</h2>
          {% if section.settings.subtitle != blank %}
            <div class="--section-subtitle">{{ section.settings.subtitle }}</div>
          {% endif %}
        </div>
        {% if section.settings.button_label != blank %}
          <div class="--button-wrapper">
            {% if section.settings.button_label != blank %}
              <a class="--button" href="{{ section.settings.collection.url }}"> {{ section.settings.button_label }} </a>
            {% endif %}
          </div>
        {% endif %}
      </div>

      <div class="--collection-products-grid">
        {% for product in section.settings.collection.products limit: 8 %}
          {% render 'product-card-v1', product: product %}
        {% endfor %}
      </div>
      <div class="bottom-block">
        {% if section.settings.button_label != blank %}
          <div class="--button-wrapper">
            {% if section.settings.button_label != blank %}
              <a class="--button" href="{{ section.settings.collection.url }}"> {{ section.settings.button_label }} </a>
            {% endif %}
          </div>
        {% endif %}
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Featured Collection Grid",
  "settings": [
    {
      "type": "checkbox",
      "id": "full_width",
      "label": "Full Width Section",
      "default": false
    },
       {
      "type": "text",
      "id": "id_nav",
      "label": "Id for Navigtion"
    },
    {
      "type": "header",
      "content": "Section Content"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Title"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Subtitle"
    },
    {
      "type": "collection",
      "id": "collection",
      "label": "Select Collection"
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Button Label"
    },
    {
      "type": "header",
      "content": "Section Spacing Desktop"
    },
    {
      "type": "range",
      "id": "margin_top",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "Margin Top",
      "default": 0
    },
    {
      "type": "range",
      "id": "margin_bottom",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "Margin Bottom",
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "Padding Top",
      "default": 16
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "Padding Bottom",
      "default": 16
    },
    {
      "type": "header",
      "content": "Section Spacing Mobile"
    },
    {
      "type": "range",
      "id": "margin_top_m",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "Margin Top",
      "default": 0
    },
    {
      "type": "range",
      "id": "margin_bottom_m",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "Margin Bottom",
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_top_m",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "Padding Top",
      "default": 32
    },
    {
      "type": "range",
      "id": "padding_bottom_m",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "Padding Bottom",
      "default": 32
    }
  ],

  "presets": [
    {
      "name": "Featured Collection Grid"
    }
  ]
}
{% endschema %}

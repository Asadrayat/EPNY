{% liquid
  assign id = section.id
%}

<style>
    #shopify-section-{{id}} {
      box-sizing: border-box;
      margin-top: {{section.settings.margin_top | append: 'px'}};
      margin-bottom: {{section.settings.margin_bottom | append: 'px'}};
      padding-top: {{section.settings.padding_top | append: 'px'}};
      padding-bottom: {{section.settings.padding_bottom | append: 'px'}};
    }

    @media(max-width: 600px) {
      #shopify-section-{{id}} {
        margin-top: {{section.settings.margin_top_m | append: 'px'}};
        margin-bottom: {{section.settings.margin_bottom_m | append: 'px'}};
        padding-top: {{section.settings.padding_top_m | append: 'px'}};
        padding-bottom: {{section.settings.padding_bottom_m | append: 'px'}};
      }
    }
  .sec-{{ id }} {
  .--top-block {
      display: flex;
      flex-direction: column;
      gap: var(--Spacing-Container-sm, 16px);
      padding: var(--Spacing-Section-Section-Vertical-Padding, 24px) 0;
      @media(max-width: 600px) {
        padding: var(--Spacing-Container-md, 16px) 0;
      }
  }
  .--text-wrapper {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: var(--Spacing-Container-xxs, 8px);
      align-self: stretch;
  }
  h2.--section-title {
      color: var(--Content-Base-main, #1F2937);
      font-family: var(--font-family-Title, "Aktiv Grotesk");
      font-size: var(--Font-Size-Heading-H1, 32px);
      font-style: normal;
      font-weight: 400;
      line-height: var(--Line-Height-Heading-H1, 32px);
      letter-spacing: -0.96px;
      margin: 0;
    @media(max-width: 600px) {
      letter-spacing: -0.72px;
    }
  }
  .--section-content {
      color: var(--Content-Base-main, #1F2937);
      font-family: var(--font-family-Body, "Aktiv Grotesk");
      font-size: var(--Font-Size-Paragraph-Regular, 16px);
      font-style: normal;
      font-weight: 400;
      line-height: var(--Line-Height-Paragraph-Regular, 24px);
      margin: 0;
  }
.--fiter-items-wrapper {
    display: flex;
    gap: var(--Spacing-Container-xs, 12px);
}
.--filter-item {
    border: 1px solid  #F3F4F6;
    background: var(--Background-base-Muted, #F9FAFB);
    padding: var(--Spacing-Container-xxs, 8px) var(--Spacing-Container-md, 24px);
    color: var(--Content-Base-base, #4B5563);
    font-family: var(--font-family-Body, "Aktiv Grotesk");
    font-size: var(--Font-Size-Paragraph-Small, 14px);
    font-style: normal;
    font-weight: 400;
    line-height: var(--Line-Height-Paragraph-Small, 20px);
    cursor: pointer;
}
.--filter-item.--active-content {
    color: var(--Content-Inverted-main, #F3F4F6);
    background: var(--Background-inverted-main, #1F2937);
}

    .--filter-content-container {
      padding: var(--Spacing-Section-Section-Vertical-Padding, 24px) 0;
  }
.--filter-content.--active-content {
    display: block;
}
.--filter-content{
display: none;
h2 {
    color: var(--Content-Base-main, #1F2937);
    font-family: var(--font-family-Title, "Aktiv Grotesk");
    font-size: var(--Font-Size-Heading-H3, 20px);
    font-style: normal;
    font-weight: 400;
    line-height: var(--Line-Height-Heading-H3, 20px);
    letter-spacing: -0.4px;
    margin-block: 0 var(--Spacing-Container-xxs, 8px);
}
p {
    color: #000;
    font-family: var(--font-family-Body, "Aktiv Grotesk");
    font-size: var(--Font-Size-Paragraph-Small, 14px);
    font-style: normal;
    font-weight: 400;
    line-height: var(--Line-Height-Paragraph-Small, 20px);
    margin-block: 0 var(--Spacing-Container-md, 24px);
}
p:last-child {
  margin-block: 0;
}
  
}

  }
</style>

<div class="sec-{{ id }}">
  <div class="{% unless section.settings.full_width %}page-width{% endunless %}">
    <div class="wrapper-{{ id }}">
      <div class="--top-block">
        <div class="--text-wrapper">
          <h2 class="--section-title">{{ section.settings.title }}</h2>
          <div class="--section-content">{{ section.settings.content }}</div>
        </div>
        <div class="--fiter-items-wrapper">
          {% for block in section.blocks %}
            <div
              class="--filter-item {% if forloop.first %}--active-content{% endif %}"
              data-title="{{ block.settings.title }}"
            >
              {{ block.settings.title }}
            </div>
          {% endfor %}
        </div>
      </div>
      <div class="--filter-content-container">
        {% for block in section.blocks %}
          <div
            class="--filter-content {% if forloop.first %}--active-content{% endif %}"
            data-title="{{ block.settings.title }}"
          >
            {{ block.settings.content }}
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
</div>


<script>
document.addEventListener('DOMContentLoaded', function() {
        let tabContent = document.querySelectorAll('.sec-{{ id }} .--filter-content');
        let tabTitles = document.querySelectorAll('.sec-{{ id }} .--filter-item');
        tabTitles.forEach((title) => {
          title.addEventListener('click', () => {
            // Remove active class from all titles
            tabTitles.forEach((x) => x.classList.remove('--active-content'));
            tabContent.forEach((x) =>{
              x.classList.remove('--active-content')
              if (x.dataset.title && title.dataset.title && x.dataset.title.trim() === title.dataset.title.trim()) {
                  x.classList.add('--active-content');
              }
            } );
            // Add active class to the clicked title
            title.classList.add('--active-content');
          });
        });


  
});
  

</script>

{% schema %}
{
  "name": "Garment Care Info",
  "settings": [
    {
      "type": "checkbox",
      "id": "full_width",
      "label": "Full Width Section",
      "default": false
    },
    {
      "type": "text",
      "id": "title",
      "label": "Section Title",
      "default" : "Section Title"
    },
    {
      "type": "textarea",
      "id": "content",
      "label": "Section Content",
      "default": "Section Content"
    },
    {
      "type": "header",
      "content": "Section Spacing Desktop"
    },
    {
      "type": "range",
      "id": "margin_top",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "Margin Top",
      "default": 0
    },
    {
      "type": "range",
      "id": "margin_bottom",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "Margin Bottom",
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "Padding Top",
      "default": 24
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "Padding Bottom",
      "default": 24
    },
    {
      "type": "header",
      "content": "Section Spacing Mobile"
    },
    {
      "type": "range",
      "id": "margin_top_m",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "Margin Top",
      "default": 0
    },
    {
      "type": "range",
      "id": "margin_bottom_m",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "Margin Bottom",
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_top_m",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "Padding Top",
      "default": 32
    },
    {
      "type": "range",
      "id": "padding_bottom_m",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "Padding Bottom",
      "default": 32
    }
  ],
  "blocks": [
    {
      "type": "text",
      "name": "Care Instruction",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Title"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "Content",
          "info": "Use H2 for question and P for answer",
          "default": "<h2>Asked Question</h2><p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. </p>"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Garment Care Info",
       "blocks": [
        {"type": "text"},
        {"type": "text"}
      ]

    }
  ]
}
{% endschema %}
